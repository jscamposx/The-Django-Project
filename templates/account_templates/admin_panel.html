
{% extends 'base.html'%}
{% block body %}
    <div class="container">
        <div class="row">
            
            <h1>You are Signed in as {{account.name}}</h1>
            <h3>You have {% if request.user.is_staff %} Admin {% else %} User {% endif %} access</h3>

            <hr class="mt-3">

                <div class="card">
                <ul class="nav d-flex">
                    <li class="nav-item">
                        <a class="nav-link text-black" href="/accounts/admin_panel/posts">Posts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-black" href="/accounts/admin_panel/users">Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-black" href="/accounts/admin_panel/contacts">Contact</a>
                    </li>
                </ul>
            </div>

            <div class="card">
                <table class="table">
                <thead>
                    {% if data_category == "users"%}
                        <tr>
                        <th scope="col">#</th>
                        <th scope="col">Username</th>
                        <th scope="col">Staff</th>
                        <th scope="col">SuperUser</th>
                        <th scope="col">Actions</th>
                        </tr>
                    {% elif data_category == "posts" %}
                        <tr>
                        <th scope="col">#</th>
                        <th scope="col">Posts</th>
                        <th scope="col">Upvotes</th>
                        <th scope="col">Views</th>
                        <th scope="col">Actions</th>
                        </tr>
                    {% elif data_category == "contacts" %}
                        <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Surname</th>
                        <th scope="col">Adress</th>
                        <th scope="col">Gender</th>
                        <th scope="col">Email</th>
                        </tr>
                    {% else %}
                        <tr>
                        <th scope="col">#</th>
                        <th scope="col">Select a option</th>
                        </tr>
                    {% endif %}
                </thead>
                <tbody>
                    {% if data_category == "users"%}
                        {% for admin_data in admin_datas%} <!-- Users -->
                            <tr>
                                <th scope="row">{{admin_data.id}}</th>
                                <td>{{admin_data}}</td>
                                <td>{{admin_data.is_staff}}</td>
                                <td>{{admin_data.is_superuser}}</td>

                                <td> 
                                    <a href="{{ admin_data.get_update_url }}" class="btn btn-primary-success button_shadow" role="button">Staff</a>
                                    <button type="button" class="btn btn-danger button_shadow" data-bs-toggle="modal" data-bs-target="#modal_{{ admin_data.id }}">Delete</button>
                                </td>
                            </tr>
                        {% endfor %}
                    {% elif data_category == "posts" %}
                        {% for admin_data in admin_datas%} <!-- Posts -->
                            <tr>
                                <th scope="row">{{admin_data.id}}</th>
                                <td>{{admin_data}}</td>
                                <td>{{admin_data.upvotes}}</td>
                                <td>{{admin_data.post_views}}</td>
                                <td>
                                    
                                    <a href="{{ admin_data.get_update_url }}" class="btn btn-primary-2 button_shadow" role="button">User</a>
                                    <a href="{{ admin_data.get_update_url }}" class="btn btn-primary-2 button_shadow" role="button">Detail</a>
                                    <a href="{{ admin_data.get_update_url }}" class="btn btn-primary-2 button_shadow" role="button">Modify</a>
                                    <button type="button" class="btn btn-danger button_shadow" data-bs-toggle="modal" data-bs-target="#modal_{{ admin_data.id }}">Delete</button>
                                </td>
                            </tr>
                        {% endfor %}
                    {% elif data_category == "contacts" %}
                        {% for admin_data in admin_datas%} <!-- Posts -->
                            <tr>
                                <th scope="row">{{admin_data.id}}</th>
                                <td>{{admin_data.name}}</td>
                                <td>{{admin_data.surname}}</td>
                                <td>{{admin_data.adress}}</td>
                                <td>{{admin_data.user_gender}}</td>
                                <td>{{admin_data.email}}</td>
                                <td>
                                    
                                    <a href="{{ admin_data.get_update_url }}" class="btn btn-primary-2 button_shadow" role="button">User</a>
                                    <a href="{{ admin_data.get_update_url }}" class="btn btn-primary-2 button_shadow" role="button">Modify</a>
                                    <button type="button" class="btn btn-danger button_shadow" data-bs-toggle="modal" data-bs-target="#modal_{{ admin_data.id }}">Delete</button>
                                </td>
                            </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
                </table>
            </div>

            <!-- Modal post delete -->
            <div class="modal fade" id="modal_{{ post.id }}" tabindex="-1" aria-labelledby="modalLabel_{{ post.id }}" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="modalLabel_{{ post.id }}">Delete Post</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete this post?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary button_shadow" data-bs-dismiss="modal">No</button>
                            {% if request.user.is_authenticated %}
                                <a href="{{ post.get_delete_url }}" class="btn btn-danger button_shadow" role="button">Delete</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h4>Lorem ipsum dolor sit amet consectetur adipisicing elit. Unde rerum eveniet, a ut quas quae reiciendis odit cumque ipsum, necessitatibus ex aliquam animi nostrum, doloribus nulla excepturi aliquid perferendis? Nemo, id! Mollitia inventore minima asperiores soluta! Quam officia, ex consectetur eum, excepturi nisi commodi possimus iure molestias tenetur perferendis facere assumenda veniam vel, sed id. Deleniti accusamus quos aliquid unde velit aperiam facilis praesentium cupiditate itaque totam, animi voluptas sunt quae consectetur! Fugit, quibusdam, iure magni est numquam perferendis repellat ducimus dolorem amet praesentium ut. Quibusdam adipisci nihil recusandae? Ullam doloremque harum enim incidunt aliquam ipsam alias atque, laboriosam doloribus!</h4>
            </div>
        </div>
    </div>
{% endblock %}